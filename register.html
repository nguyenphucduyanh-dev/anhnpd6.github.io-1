<!doctype html>
<html lang="vi">
<head><meta charset="utf-8"><title>Đăng ký</title><meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"></head>
<body>
<div class="container py-4">
  <h3>Đăng ký tài khoản</h3>
  <form id="regForm">
    <div class="mb-3"><input id="email" class="form-control" placeholder="Email" required></div>
    <div class="mb-3"><input id="name" class="form-control" placeholder="Họ tên" required></div>
    <div class="mb-3"><input id="pw" type="password" class="form-control" placeholder="Mật khẩu" required></div>
    <button class="btn btn-primary">Đăng ký</button>
  </form>
  <p class="mt-3">Hoặc <a href="login.html">Đăng nhập</a></p>
</div>
<script>
function getUsers(){ return JSON.parse(localStorage.getItem('users')||'[]'); }
function saveUsers(u){ localStorage.setItem('users', JSON.stringify(u)); }
document.getElementById('regForm').addEventListener('submit', function(e){
  e.preventDefault();
  const u = getUsers();
  const email=document.getElementById('email').value;
  if(u.some(x=>x.email===email)){ alert('Email đã tồn tại'); return; }
  u.push({email, name:document.getElementById('name').value, password:document.getElementById('pw').value, locked:false});
  saveUsers(u); alert('Đăng ký thành công'); location.href='login.html';
});
</script>
</body>
</html>
