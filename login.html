<!doctype html>
<html lang="vi">
<head><meta charset="utf-8"><title>Đăng nhập</title><meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"></head>
<body>
<div class="container py-4">
  <h3>Đăng nhập khách hàng</h3>
  <form id="loginForm">
    <div class="mb-3"><input id="email" class="form-control" placeholder="Email" required></div>
    <div class="mb-3"><input id="pw" type="password" class="form-control" placeholder="Mật khẩu" required></div>
    <button class="btn btn-primary">Đăng nhập</button>
  </form>
  <p class="mt-3">Hoặc <a href="register.html">Đăng ký</a></p>
</div>
<script>
function getUsers(){ return JSON.parse(localStorage.getItem('users')||'[]'); }
document.getElementById('loginForm').addEventListener('submit', function(e){
  e.preventDefault();
  const email=document.getElementById('email').value, pw=document.getElementById('pw').value;
  const u = getUsers().find(x=>x.email===email && x.password===pw);
  if(!u) return alert('Sai thông tin');
  if(u.locked) return alert('Tài khoản bị khóa');
  localStorage.setItem('session', JSON.stringify({email:u.email, name:u.name}));
  alert('Đăng nhập thành công'); location.href='product_list.html';
});
</script>
</body>
</html>
