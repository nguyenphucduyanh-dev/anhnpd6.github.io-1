<!doctype html>
<html lang="vi">
<head><meta charset="utf-8"><title>Sản phẩm</title><meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>.thumb{width:120px;height:80px;object-fit:cover}</style>
</head>
<body>
<div class="container py-4">
  <div class="d-flex justify-content-between">
    <h3>Danh sách sản phẩm</h3>
    <div><a class="btn btn-outline-primary" href="cart.html">Giỏ hàng</a> <a class="btn btn-outline-secondary" href="profile.html">Tài khoản</a></div>
  </div>
  <div id="list" class="row gy-3 mt-3"></div>
</div>
<script>
function getProducts(){ return JSON.parse(localStorage.getItem('products')||'[]'); }
function render(){
  const list=document.getElementById('list'); list.innerHTML='';
  getProducts().filter(p=>!p.hidden).forEach(p=>{
    const col=document.createElement('div'); col.className='col-md-4';
    col.innerHTML = `<div class="card"><img src="${p.image||'https://via.placeholder.com/300x200'}" class="card-img-top thumb"><div class="card-body"><h5>${p.name}</h5><p>${p.desc||''}</p>
      <a class="btn btn-primary" href="product_detail.html?code=${encodeURIComponent(p.code)}">Xem chi tiết</a></div></div>`;
    list.appendChild(col);
  });
}
render();
</script>
</body>
</html>
